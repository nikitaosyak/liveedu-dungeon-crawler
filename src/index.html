<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no">
    <title>liveedu dungeon crawler</title>
</head>
<body style="margin: 0; overflow: hidden">

<canvas id="gameCanvas"></canvas>

<!-- splash image -->
<img
        id="loader"
        src="assets/splash.png"
        style=" width: 100%; height:100%;
                object-fit: cover; position: absolute;
                top: 0; left: 0; right: 0; bottom: 0; margin: auto;"
/>

<progress
        id="progress"
        value="0" max="100"
        style=" height: 4%; width: 70%; position: absolute;
                top: 0; left: 0; right: 0; bottom: 0;
                margin: auto; margin-top: 10%"
></progress>

<script>
        var head = document.getElementsByTagName('head')[0]
        var bundles = ['libraries.js', 'bundle.js']
        var loadedBundles = 0
        var totalBundles = bundles.length

        var loadSingleBundle = function(path) {
            var domScript = document.createElement('script')
            domScript.type = 'text/javascript'
            domScript.onload = function() {
                loadedBundles += 1
                console.log(`%cBundle: ${loadedBundles}/${totalBundles} : ${path}`, 'color: #2222CC')
                if (bundles.length > 0) {
                    loadSingleBundle(bundles.shift())
                } else {
                    console.log(`%cBundle: loading complete`, 'color: #2222CC')
                }
            }
            domScript.src = path
            head.appendChild(domScript)
        }
        loadSingleBundle(bundles.shift())
</script>

</body>
</html>